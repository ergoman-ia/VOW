<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì—…ë¬´ì í•©ì„± í‰ê°€(VOW 2010)</title>
    <style>
        /* ğŸ“± ëª¨ë°”ì¼ ë° ì¸ì§€ê³µí•™ ìµœì í™” UI (ê¸°ì¡´ ë™ì¼) */
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background-color: #f4f7f6;
            color: #333;
            line-height: 1.6;
            padding: 15px;
            margin: 0;
        }

        .container {
            max-width: 100%;
            margin: auto;
            background: #fff;
            padding: 20px 15px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }

        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            font-size: 1.5em;
        }

        /* ğŸ’¡ í…ŒìŠ¤íŠ¸ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .test-btn {
            background-color: #f39c12;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 8px;
            width: 100%;
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(243, 156, 18, 0.3);
            cursor: pointer;
        }

        .test-btn:active {
            background-color: #d68910;
            transform: translateY(2px);
        }

        .module-title {
            margin-top: 40px;
            padding: 15px;
            border-radius: 8px;
            font-size: 1.25em;
            font-weight: bold;
            border-left: 5px solid #555;
        }

        .group-title {
            font-weight: bold;
            color: #555;
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 1.05em;
            border-bottom: 2px dotted #ccc;
            padding-bottom: 5px;
        }

        .question-block {
            margin-bottom: 20px;
            padding: 18px;
            background: #ffffff;
            border: 1px solid #ddd;
            border-radius: 12px;
            transition: 0.4s ease;
        }

        .question-title {
            font-weight: bold;
            margin-bottom: 15px;
            color: #2c3e50;
            font-size: 1.1em;
            line-height: 1.4;
        }

        .options label {
            display: flex;
            align-items: center;
            padding: 15px;
            margin-bottom: 8px;
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid #ccc;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
        }

        input[type="radio"] {
            transform: scale(1.4);
            margin-right: 15px;
        }

        input[type="number"] {
            padding: 12px;
            width: 100px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 16px;
            text-align: center;
        }

        button.submit-btn {
            display: block;
            width: 100%;
            padding: 18px;
            background: #2c3e50;
            color: white;
            border: none;
            font-size: 1.2em;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 40px;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }

        /* ğŸ“Š ê²°ê³¼ ë³´ê³ ì„œ í™”ë©´ ìŠ¤íƒ€ì¼ */
        #reportArea {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: #e8f8f5;
            border-radius: 12px;
            border: 2px solid #1abc9c;
        }

        .report-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .score-high {
            color: #e74c3c;
            font-weight: bold;
        }

        .score-good {
            color: #27ae60;
            font-weight: bold;
        }

        .formula-box {
            background: #34495e;
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            margin: 20px 0;
            font-family: monospace;
            font-size: 1.1em;
        }
    </style>
</head>

<body>

    <div class="container">
        <h1>ì—…ë¬´ì í•©ì„± í‰ê°€</h1>

        <button type="button" class="test-btn" onclick="randomFill()">âš™ï¸ ê°œë°œììš©: ëœë¤ ìë™ ì…ë ¥</button>

        <div id="surveySection">
            <p style="text-align: center; color: #666; font-size: 0.9em; margin-bottom: 30px;">
                ë‹µë³€ì„ ì™„ë£Œí•œ ë¬¸í•­ì€ ìƒ‰ìƒì´ ì±„ì›Œì§‘ë‹ˆë‹¤.
            </p>
            <form id="vowForm">
                <div id="surveyContainer"></div>
                <button type="button" class="submit-btn" onclick="checkCompletion()">ì„¤ë¬¸ ì œì¶œ ë° ê²°ê³¼ ë³´ê¸°</button>
            </form>
        </div>

        <div id="reportArea">
            <h2 style="color: #16a085; text-align: center; border: none; background: none;">ğŸ“Š ì§„ë‹¨ ê²°ê³¼ ë³´ê³ ì„œ</h2>
            <div id="reportContent"></div>
        </div>
    </div>

    <script>
        // [ë°ì´í„° ì˜ì—­] ì´ì „ê³¼ ë™ì¼í•˜ê²Œ 100% ë¬¸í•­ í¬í•¨    
        const surveyData = [
            {
                title: "ëª¨ë“ˆ 1: ì‹¬ë¦¬ì‚¬íšŒì  ìš”ì¸", bgColor: "#e3f2fd", borderColor: "#2196f3",
                groups: [
                    {
                        title: "ë‹¤ìŒ ìƒí™©ì´ ì–¼ë§ˆë‚˜ ìì£¼ ë°œìƒí•©ë‹ˆê¹Œ?",
                        type: "radio", scale: ["ì „í˜€ ì—†ìŒ", "ê°€ë”", "ìì£¼", "í•­ìƒ"],
                        questions: [
                            { id: "M1_q1", text: "1. ë¬´ì–¸ê°€ë¥¼ ëë‚´ê¸° ìœ„í•´ íŠ¹ë³„íˆ ë¬´ë¦¬í•´ì„œ ì¼í•´ì•¼ í•©ë‹ˆê¹Œ?" },
                            { id: "M1_q2", text: "2. ì‹œê°„ ì••ë°• ì†ì—ì„œ ì¼í•˜ì‹­ë‹ˆê¹Œ?" },
                            { id: "M1_q3", text: "3. ì¼í•  ë•Œ ì„œë‘˜ëŸ¬ì•¼ í•©ë‹ˆê¹Œ?" },
                            { id: "M1_q4", text: "4. ê·€í•˜ì˜ ì—…ë¬´ëŠ” ë³¸ì¸ì˜ ê¸°ìˆ ì´ë‚˜ ëŠ¥ë ¥ì„ ì¶©ë¶„íˆ ë°œíœ˜í•˜ê²Œ í•©ë‹ˆê¹Œ?" },
                            { id: "M1_q5", text: "5. ì§ì¥ì—ì„œ ìƒˆë¡œìš´ ê²ƒì„ ë°°ìš°ê³  ìˆìŠµë‹ˆê¹Œ?" },
                            { id: "M1_q6", text: "6. ì—…ë¬´ë¥¼ í†µí•´ ë¬´ì–¸ê°€ ì„±ì·¨í•˜ê³  ìˆë‹¤ëŠ” ëŠë‚Œì„ ë°›ìŠµë‹ˆê¹Œ?" },
                            { id: "M1_q7", text: "7. í•„ìš”í•  ë•Œ ë™ë£Œì—ê²Œ ë„ì›€ì„ ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆê¹Œ?" },
                            { id: "M1_q8", text: "8. ì§ì¥ì—ì„œ ë™ë£Œë“¤ë¡œë¶€í„° ì¸ì •ë°›ëŠ”ë‹¤ê³  ëŠë‚ë‹ˆê¹Œ?" },
                            { id: "M1_q9", text: "9. í•„ìš”í•  ë•Œ ì§ì† ìƒì‚¬ì—ê²Œ ë„ì›€ì„ ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆê¹Œ?" },
                            { id: "M1_q10", text: "10. ì§ì† ìƒì‚¬ë¡œë¶€í„° ì¸ì •ë°›ëŠ”ë‹¤ê³  ëŠë‚ë‹ˆê¹Œ?" },
                            { id: "M1_q11", text: "11. ì§ì¥ì—ì„œ ì¼ì–´ë‚˜ëŠ” ì¼ì— ëŒ€í•´ ë°œì–¸ê¶Œì´ ë§ìŠµë‹ˆê¹Œ?" },
                            { id: "M1_q12", text: "12. ì—…ë¬´ì™€ ê´€ë ¨ëœ ê²°ì •ì— ì°¸ì—¬í•  ìˆ˜ ìˆìŠµë‹ˆê¹Œ?" },
                            { id: "M1_q13", text: "13. ì§ì† ìƒì‚¬ì™€ ì—…ë¬´ì— ëŒ€í•´ ì¶©ë¶„íˆ ìƒì˜í•  ìˆ˜ ìˆìŠµë‹ˆê¹Œ?" },
                            { id: "M1_q14", text: "14. ì—…ë¬´ ë³€í™”ì— ì ì‘í•˜ê¸° ì–´ë µìŠµë‹ˆê¹Œ?" },
                            { id: "M1_q15", text: "15. ì—…ë¬´ë¥¼ ë³€ê²½í•˜ëŠ” ê²ƒì´ ë¬¸ì œë¥¼ ì¼ìœ¼í‚µë‹ˆê¹Œ?" },
                            { id: "M1_q16", text: "16. ì—…ë¬´ ë³€ê²½ì´ ê·€í•˜ì—ê²Œ ë¶€ì •ì ì¸ ê²°ê³¼ë¥¼ ì´ˆë˜í•©ë‹ˆê¹Œ?" }
                        ]
                    },
                    {
                        title: "ë‹¤ìŒ ë¬¸ì¥ì— ì–´ëŠ ì •ë„ ë™ì˜í•˜ì‹­ë‹ˆê¹Œ?",
                        type: "radio", scale: ["ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", "ê·¸ë ‡ì§€ ì•Šë‹¤", "ê·¸ë ‡ë‹¤", "ë§¤ìš° ê·¸ë ‡ë‹¤"],
                        questions: [
                            { id: "M1_q17", text: "17. ì¡°ë§Œê°„ ì¼ìë¦¬ë¥¼ ìƒì„ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤." },
                            { id: "M1_q18", text: "18. ë‚´ ì¼ìë¦¬ì˜ ë¯¸ë˜ê°€ ë¶ˆì•ˆì •í•˜ë‹¤ê³  ëŠë‚ë‹ˆë‹¤." },
                            { id: "M1_q19", text: "19. ê°€ê¹Œìš´ ë¯¸ë˜ì— ì¼ìë¦¬ë¥¼ ìƒì„ ê²ƒì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤." },
                            { id: "M1_q20", text: "20. ë‚´ ì¼ìë¦¬ë¥¼ ê³„ì† ìœ ì§€í•  ìˆ˜ ìˆì„ ê²ƒì´ë¼ í™•ì‹ í•©ë‹ˆë‹¤." }
                        ]
                    },
                    {
                        title: "í˜„ì¬ ê·€í•˜ì˜ ìƒíƒœì— í•´ë‹¹í•©ë‹ˆê¹Œ?",
                        type: "radio", scale: ["ì•„ë‹ˆì˜¤", "ì˜ˆ"],
                        questions: [
                            { id: "M1_q21", text: "21. ë‚˜ëŠ” ê·¸ì € í•´ì•¼ í•˜ë‹ˆê¹Œ ì¼ì„ í•  ë¿ì…ë‹ˆë‹¤." },
                            { id: "M1_q22", text: "22. ëŒ€ì²´ë¡œ ê·¼ë¬´ì¼ì„ ì‹œì‘í•˜ëŠ” ê²ƒì´ ì¦ê²ìŠµë‹ˆë‹¤." },
                            { id: "M1_q23", text: "23. ë‚˜ëŠ” ë§¤ì¼ ë‚´ ì¼ì´ í¥ë¯¸ë¡­ë‹¤ê³  ëŠë‚ë‹ˆë‹¤." },
                            { id: "M1_q24", text: "24. ë‚˜ëŠ” ì¼í•˜ëŠ” ê²ƒì´ ì¦ê²ìŠµë‹ˆë‹¤." },
                            { id: "M1_q25", text: "25. ì¼ì„ í•˜ë ¤ë©´ ìŠ¤ìŠ¤ë¡œ ì €í•­ê°ì„ ê·¹ë³µí•´ì•¼ í•©ë‹ˆë‹¤." },
                            { id: "M1_q26", text: "26. ê·¼ë¬´ì¼ì´ ëë‚œ í›„ ê¸´ì¥ì„ í’€ê¸° ì–´ë µìŠµë‹ˆë‹¤." },
                            { id: "M1_q27", text: "27. í‡´ê·¼ í›„ ê¸°ì§„ë§¥ì§„í•¨ì„ ëŠë‚ë‹ˆë‹¤." },
                            { id: "M1_q28", text: "28. í‡´ê·¼ í›„ ì—¬ê°€ ì‹œê°„ì— ì§‘ì¤‘í•˜ê¸° ìœ„í•´ ì• ë¥¼ ì¨ì•¼ í•©ë‹ˆë‹¤." },
                            { id: "M1_q29", text: "29. í‡´ê·¼ í›„ ì™„ì „íˆ íšŒë³µë˜ëŠ” ë° ë³´í†µ 1ì‹œê°„ ì´ìƒ ê±¸ë¦½ë‹ˆë‹¤." }
                        ]
                    }
                ]
            },
            {
                title: "ëª¨ë“ˆ 2: ë¬¼ë¦¬ì  ì‘ì—… í™˜ê²½", bgColor: "#e8f5e9", borderColor: "#4caf50",
                groups: [
                    {
                        title: "ê·¼ë¬´ ì¤‘ ë‹¤ìŒ ìš”ì¸ì— ì–¼ë§ˆë‚˜ ìì£¼ ë…¸ì¶œë©ë‹ˆê¹Œ?",
                        type: "radio", scale: ["ì „í˜€ ì—†ìŒ", "ê°€ë”", "ìì£¼", "í•­ìƒ"],
                        questions: [
                            { id: "M2_q1", text: "1. ê³µêµ¬ ë° ê¸°ê³„ì˜ ì§„ë™" },
                            { id: "M2_q2", text: "2. ì†ŒìŒ ê³µí•´" },
                            { id: "M2_q3", text: "3. ê·¹í•œì˜ ì˜¨ë„" },
                            { id: "M2_q4", text: "4. ìœ„í—˜ ë¬¼ì§ˆ" },
                            { id: "M2_q5", text: "5. ìœ„í—˜í•œ ìƒí™©, ì¤‘ëŒ€ ì‚¬ê³ ì˜ ìœ„í—˜" },
                            { id: "M2_q6", text: "6. ìœ¡ì²´ì ìœ¼ë¡œ í˜ë“  ì‘ì—…" },
                            { id: "M2_q7", text: "7. ë¶ˆí¸í•˜ê±°ë‚˜ í˜ë“  ì‘ì—… ìì„¸" },
                            { id: "M2_q8", text: "8. ë°˜ë³µì ì¸(í•­ìƒ ê°™ì€) ì†/íŒ”ì˜ ì›€ì§ì„" },
                            { id: "M2_q9", text: "9. VDT(ëª¨ë‹ˆí„°) ì‘ì—…" }
                        ]
                    }
                ]
            },
            {
                title: "ëª¨ë“ˆ 3: ì•ˆì „", bgColor: "#fff9c4", borderColor: "#fbc02d",
                groups: [
                    {
                        type: "radio", scale: ["ì•„ë‹ˆì˜¤", "ì˜ˆ"],
                        questions: [
                            { id: "M3_q1", text: "1. ì§€ë‚œ 1ë…„ ë™ì•ˆ ì‘ì—…ì¥ ì‚¬ê³ ë¥¼ ëª©ê²©í•œ ì ì´ ìˆìŠµë‹ˆê¹Œ?" },
                            { id: "M3_q2", text: "2. ì§€ë‚œ 1ë…„ ë™ì•ˆ ì‘ì—…ì¥ ì‚¬ê³ ì— ì—°ë£¨ëœ ì ì´ ìˆìŠµë‹ˆê¹Œ?" }
                        ]
                    },
                    {
                        title: "ë‹¤ìŒ ë¬¸ì¥ì— ì–´ëŠ ì •ë„ ë™ì˜í•˜ì‹­ë‹ˆê¹Œ?",
                        type: "radio", scale: ["ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", "ê·¸ë ‡ì§€ ì•Šë‹¤", "ë³´í†µì´ë‹¤", "ê·¸ë ‡ë‹¤", "ë§¤ìš° ê·¸ë ‡ë‹¤"],
                        questions: [
                            { id: "M3_q3", text: "3. ìš°ë¦¬ ì¡°ì§ì€ ê·¼ë¡œìì˜ ì•ˆì „ê³¼ ê±´ê°•ì„ ì¶©ë¶„íˆ ë³´í˜¸í•©ë‹ˆë‹¤." },
                            { id: "M3_q4", text: "4. ê²½ì˜ì§„ì€ ì§ì¥ ë‚´ ìœ„í—˜ ì˜ˆë°©ì— ì§„ì§€í•˜ê²Œ ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤." },
                            { id: "M3_q5", text: "5. ìš°ë¦¬ íšŒì‚¬ëŠ” ìƒì‚°ì„±ê³¼ ì•ˆì „ì„ ë™ë“±í•˜ê²Œ ì¤‘ìš”ì‹œí•©ë‹ˆë‹¤." },
                            { id: "M3_q6", text: "6. ìš°ë¦¬ ì¡°ì§ì€ ì‘ì—…ì¥ ìœ„í—˜ ì˜ˆë°©ì— íˆ¬ìí•˜ê³  ìˆìŠµë‹ˆë‹¤." },
                            { id: "M3_q7", text: "7. ì§ì† ìƒì‚¬ëŠ” ì•ˆì „í•œ ì‘ì—…ì„ ë…ë ¤í•©ë‹ˆë‹¤." },
                            { id: "M3_q8", text: "8. ì§ì† ìƒì‚¬ëŠ” ê±´ê°•ê³¼ ì•ˆì „ì— ëŒ€í•œ ë‚´ ì˜ê²¬ê³¼ ì œì•ˆì„ ê³ ë ¤í•©ë‹ˆë‹¤." },
                            { id: "M3_q9", text: "9. ìš°ë¦¬ ì¡°ì§ì—ëŠ” ê·¼ë¡œìì˜ ê±´ê°•ê³¼ ì•ˆì „ì„ ë‹´ë‹¹í•˜ëŠ” ì‚¬ëŒì´ ìˆìŠµë‹ˆë‹¤." },
                            { id: "M3_q10", text: "10. ê±´ê°•ê³¼ ì•ˆì „ì„ ë‹´ë‹¹í•˜ëŠ” ì‚¬ëŒë“¤ì€ ì´ ë¶„ì•¼ì—ì„œ ìœ ëŠ¥í•©ë‹ˆë‹¤." },
                            { id: "M3_q11", text: "11. ì•ˆì „í•œ ì‘ì—…ì„ ìœ„í•œ ëª…í™•í•œ ê·œì¹™ì´ ìˆìŠµë‹ˆë‹¤." },
                            { id: "M3_q12", text: "12. ë‚˜ëŠ” ì–‘ì§ˆì˜ ë³´ê±´ ë° ì•ˆì „ êµìœ¡ì„ ë°›ì•˜ìŠµë‹ˆë‹¤." },
                            { id: "M3_q13", text: "13. ë‚˜ëŠ” ì¢‹ì€ ê°œì¸ë³´í˜¸êµ¬(PPE)ë¥¼ ì§€ê¸‰ë°›ì•˜ìŠµë‹ˆë‹¤." }
                        ]
                    }
                ]
            },
            {
                title: "ëª¨ë“ˆ 4: ê±´ê°•", bgColor: "#ffebee", borderColor: "#e53935",
                groups: [
                    {
                        title: "ë‹¤ìŒ ë¬¸ì¥ì— ì–´ëŠ ì •ë„ ë™ì˜í•˜ì‹­ë‹ˆê¹Œ?",
                        type: "radio", scale: ["ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", "ê·¸ë ‡ì§€ ì•Šë‹¤", "ë³´í†µì´ë‹¤", "ê·¸ë ‡ë‹¤", "ë§¤ìš° ê·¸ë ‡ë‹¤"],
                        questions: [
                            { id: "M4_q1", text: "1. ë‚˜ëŠ” ë‹¤ë¥¸ ì‚¬ëŒë³´ë‹¤ ì‰½ê²Œ ë³‘ì— ê±¸ë¦¬ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤." },
                            { id: "M4_q2", text: "2. ë‚´ ê±´ê°•ì´ ë¹¨ë¦¬ ë‚˜ë¹ ì§ˆ ê²ƒì´ë¼ê³  ì˜ˆìƒí•©ë‹ˆë‹¤." },
                            { id: "M4_q3", text: "3. ë‚´ ì—…ë¬´ëŠ” ë‚´ ê±´ê°• ìƒíƒœì— ë¶€ì •ì ì¸ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤." },
                            { id: "M4_q4", text: "4. ì¼ìƒìƒí™œì´ ë‚´ ê±´ê°• ìƒíƒœë¡œ ì¸í•´ ë°©í•´ë¥¼ ë°›ìŠµë‹ˆë‹¤." },
                            { id: "M4_q5", text: "5. ì§ì¥ì—ì„œ ê±´ê°• ìƒíƒœë¡œ ì¸í•´ ë°©í•´ë¥¼ ë°›ìŠµë‹ˆë‹¤." }
                        ]
                    },
                    {
                        title: "ì§€ë‚œ 2ì£¼ ë™ì•ˆ ë‹¤ìŒ ì¦ìƒì„ ê²ªì€ ì ì´ ìˆìŠµë‹ˆê¹Œ?",
                        type: "radio", scale: ["ì•„ë‹ˆì˜¤", "ì˜ˆ"],
                        questions: [
                            { id: "M4_q6", text: "6. ì ë“¤ê¸°ê°€ ì–´ë µìŠµë‹ˆê¹Œ?" },
                            { id: "M4_q7", text: "7. íŒ”ë‹¤ë¦¬ ê·¼ìœ¡í†µì´ ìˆìŠµë‹ˆê¹Œ?" },
                            { id: "M4_q8", text: "8. ì§€ì†ì ì¸ í”¼ë¡œë¥¼ ëŠë‚ë‹ˆê¹Œ?" },
                            { id: "M4_q9", text: "9. ëª© ë˜ëŠ” ì–´ê¹¨ í†µì¦ì´ ìˆìŠµë‹ˆê¹Œ?" },
                            { id: "M4_q10", text: "10. ìœ„ ë˜ëŠ” ì¥ ë¶ˆí¸í•¨ì´ ìˆìŠµë‹ˆê¹Œ?" },
                            { id: "M4_q11", text: "11. ë‘í†µì´ ìˆìŠµë‹ˆê¹Œ?" },
                            { id: "M4_q12", text: "12. ê°€ìŠ´ ë˜ëŠ” ì‹¬ì¥ ë¶€ìœ„ì˜ í†µì¦ì´ ìˆìŠµë‹ˆê¹Œ?" },
                            { id: "M4_q13", text: "13. ìš”í†µ(ë“±/í—ˆë¦¬ í†µì¦)ì´ ìˆìŠµë‹ˆê¹Œ?" },
                            { id: "M4_q14", text: "14. íŒ”ë‹¤ë¦¬ ì €ë¦¼/ë¬´ê°ê°ì´ ìˆìŠµë‹ˆê¹Œ?" },
                            { id: "M4_q15", text: "15. ë¶ˆì•ˆì •í•˜ê±°ë‚˜ ë°©í•´ë°›ëŠ” ìˆ˜ë©´ì„ ì·¨í•©ë‹ˆê¹Œ?" }
                        ]
                    },
                    {
                        title: "ìµœê·¼ ê±´ê°• ë° ê²°ê·¼ ìƒíƒœ",
                        type: "radio", scale: ["ë‚˜ì¨", "ë³´í†µ", "ì¢‹ìŒ", "ë§¤ìš° ì¢‹ìŒ", "íƒì›”í•¨"],
                        questions: [
                            { id: "M4_q16", text: "16. ì§€ë‚œ 2ì£¼ ë™ì•ˆ ê·€í•˜ì˜ ì „ë°˜ì ì¸ ê±´ê°• ìƒíƒœë¥¼ ì–´ë–»ê²Œ í‰ê°€í•˜ì‹­ë‹ˆê¹Œ?" }
                        ]
                    },
                    {
                        type: "radio", scale: ["0ë²ˆ", "1ë²ˆ", "2ë²ˆ", "3~4ë²ˆ", "5ë²ˆ ì´ìƒ"],
                        questions: [
                            { id: "M4_q17", text: "17. ì§€ë‚œ 12ê°œì›” ë™ì•ˆ ì§ˆë³‘ì´ë‚˜ ì‚¬ê³ ë¡œ ê²°ê·¼í•œ ì ì´ ëª‡ ë²ˆì…ë‹ˆê¹Œ? (ì¶œì‚°íœ´ê°€ ì œì™¸)" },
                            { id: "M4_q19", text: "19. ì§€ë‚œ 12ê°œì›” ë™ì•ˆ ê±´ê°•ìƒ ì´ìœ ë¡œ ì§‘ì— ìˆì–´ì•¼ í–ˆìŒì—ë„ ì¶œê·¼í•œ ì (í”„ë¦¬ì  í‹°ì¦˜)ì´ ëª‡ ë²ˆì…ë‹ˆê¹Œ?" }
                        ]
                    },
                    {
                        type: "number",
                        questions: [
                            { id: "M4_q18", text: "18. ì§€ë‚œ 12ê°œì›” ë™ì•ˆ ì§ˆë³‘ì´ë‚˜ ì‚¬ê³ ë¡œ ê²°ê·¼í•œ ì´ ì¼ìˆ˜ëŠ” ë©°ì¹ ì…ë‹ˆê¹Œ?" }
                        ]
                    }
                ]
            },
            {
                title: "ëª¨ë“ˆ 5: ê·¼ë¡œ ëŠ¥ë ¥", bgColor: "#f3e5f5", borderColor: "#8e24aa",
                groups: [
                    {
                        title: "ë‹¤ìŒ ë¬¸ì¥ì— ì–´ëŠ ì •ë„ ë™ì˜í•˜ì‹­ë‹ˆê¹Œ?",
                        type: "radio", scale: ["ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", "ê·¸ë ‡ì§€ ì•Šë‹¤", "ë³´í†µì´ë‹¤", "ê·¸ë ‡ë‹¤", "ë§¤ìš° ê·¸ë ‡ë‹¤"],
                        questions: [
                            { id: "M5_q1", text: "1. ë‚´ê°€ ìŒ“ì€ ê²½í—˜ì€ ë‚´ ì—…ë¬´ì˜ ë³€í™”ì— ì˜ ëŒ€ë¹„í•  ìˆ˜ ìˆê²Œ í•´ì£¼ì—ˆë‹¤." },
                            { id: "M5_q2", text: "2. ë‚˜ëŠ” ë‚´ ì—…ë¬´ì—ì„œ ìŠ¤ìŠ¤ë¡œ ì„¤ì •í•œ ëª©í‘œë¥¼ ë‹¬ì„±í•œë‹¤." },
                            { id: "M5_q3", text: "3. ë‚˜ëŠ” ë‚´ ì§ë¬´ì˜ ìš”êµ¬ì‚¬í•­ì— ëŒ€ì²˜í•  ì¶©ë¶„í•œ ì¤€ë¹„ê°€ ë˜ì–´ ìˆë‹¤." },
                            { id: "M5_q4", text: "4. ì§ì¥ì—ì„œ ë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚˜ë“  ë³´í†µ ê°ë‹¹í•  ìˆ˜ ìˆë‹¤." },
                            { id: "M5_q5", text: "5. ì—…ë¬´ ì¤‘ ë¬¸ì œì— ì§ë©´í•  ë•Œ ë³´í†µ ì—¬ëŸ¬ í•´ê²°ì±…ì„ ì°¾ëŠ”ë‹¤." },
                            { id: "M5_q6", text: "6. ì§ì¥ì—ì„œ ì–´ë ¤ì›€ì— ì§ë©´í•´ë„ ë‚´ ê²½í—˜ì— ê¸°ëŒˆ ìˆ˜ ìˆì–´ ì¹¨ì°©í•¨ì„ ìœ ì§€í•  ìˆ˜ ìˆë‹¤." }
                        ]
                    },
                    {
                        title: "ì§€ë‚œ 5ë…„ ë™ì•ˆ ë‹¤ìŒ ì‚¬í•­ë“¤ì´ ì–´ë–»ê²Œ ë³€í–ˆìŠµë‹ˆê¹Œ?",
                        type: "radio", scale: ["í¬ê²Œ ê°ì†Œ", "ê°ì†Œ", "ë™ì¼í•¨", "ì¦ê°€", "í¬ê²Œ ì¦ê°€"],
                        questions: [
                            { id: "M5_q7", text: "7. ë‚˜ì˜ ì‘ì—… ì†ë„" },
                            { id: "M5_q8", text: "8. ë¬´ì–¸ê°€ë¥¼ ì„±ì·¨í•˜ë ¤ëŠ” ë‚˜ì˜ ì•¼ë§" },
                            { id: "M5_q9", text: "9. ì¶œê·¼í•˜ë ¤ëŠ” ë‚˜ì˜ ë™ê¸°ë¶€ì—¬" },
                            { id: "M5_q10", text: "10. ë‚´ê°€ ê°ë‹¹í•  ìˆ˜ ìˆëŠ” ì—…ë¬´ì˜ ì–‘" },
                            { id: "M5_q11", text: "11. ì—…ë¬´ ë³€í™”ì— ëŒ€ì²˜í•˜ëŠ” ë‚˜ì˜ ëŠ¥ë ¥" },
                            { id: "M5_q12", text: "12. ë‚˜ì˜ ê±´ê°•" },
                            { id: "M5_q13", text: "13. ì—…ë¬´ì— ìŸì„ ìˆ˜ ìˆëŠ” ë‚˜ì˜ ì—ë„ˆì§€" }
                        ]
                    }
                ]
            },
            {
                title: "ëª¨ë“ˆ 6: ê³„ì† ê·¼ë¡œ ì˜í–¥", bgColor: "#fff3e0", borderColor: "#fb8c00",
                groups: [
                    {
                        title: "ë¯¸ë˜ì˜ ê·¼ë¡œ ì˜í–¥ì„ ì•Œë ¤ì£¼ì„¸ìš”.",
                        type: "radio", scale: ["ì „í˜€ í™•ì‹  ì—†ìŒ", "í™•ì‹  ì—†ìŒ", "ë°˜ë°˜", "í™•ì‹ í•¨", "ë§¤ìš° í™•ì‹ í•¨"],
                        questions: [
                            { id: "M6_q1", text: "1. 2ë…„ í›„ì—ë„ í˜„ì¬ ì—…ë¬´ë¥¼ ê°ë‹¹í•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í•˜ì‹­ë‹ˆê¹Œ?" },
                            { id: "M6_q2", text: "2. 2ë…„ í›„ì—ë„ í˜„ì¬ ì—…ë¬´ë¥¼ ê³„ì†í•˜ê³  ì‹¶ìœ¼ì‹­ë‹ˆê¹Œ?" },
                            { id: "M6_q3", text: "3. ë²•ì • ì •ë…„ ì—°ë ¹ê¹Œì§€ ê³„ì† ì¼í•´ì•¼ í•œë‹¤ëŠ” ìƒê°ì´ ë‹µë‹µí•˜ê²Œ ëŠê»´ì§€ì‹­ë‹ˆê¹Œ?" },
                            { id: "M6_q4", text: "4. ì¡°ê¸° ì€í‡´ë¥¼ ìƒê°í•´ ë³¸ ì ì´ ìˆìŠµë‹ˆê¹Œ?" },
                            { id: "M6_q5", text: "5. ê°€ëŠ¥í•œ í•œ ì˜¤ë«ë™ì•ˆ ì§ì¥ì— ë‚¨ì•„ìˆê³  ì‹¶ìœ¼ì‹­ë‹ˆê¹Œ?" },
                            { id: "M6_q6", text: "6. ì¡°ê¸° ì€í‡´í•  ê³„íšì´ ìˆìŠµë‹ˆê¹Œ?" },
                            { id: "M6_q7", text: "7. ë²•ì • ì •ë…„ ì—°ë ¹ê¹Œì§€ ê³„ì† ì¼í•˜ê³  ì‹¶ìœ¼ì‹­ë‹ˆê¹Œ?" }
                        ]
                    }
                ]
            }
        ];

        // [ë Œë”ë§ ë¡œì§]
        function renderSurvey() {
            const container = document.getElementById('surveyContainer');
            let html = '';
            surveyData.forEach(module => {
                html += `<div class="module-title" style="background-color: ${module.bgColor}; border-left-color: ${module.borderColor};">${module.title}</div>`;
                module.groups.forEach(group => {
                    group.questions.forEach(q => {
                        html += `<div class="question-block" data-bg="${module.bgColor}" data-border="${module.borderColor}">
                                <div class="question-title">${q.text}</div><div class="options">`;
                        if (group.type === "radio") {
                            group.scale.forEach((opt, idx) => { html += `<label><input type="radio" name="${q.id}" value="${idx + 1}"> ${opt}</label>`; });
                        } else if (group.type === "number") {
                            html += `<div style="text-align:center;"><input type="number" name="${q.id}" min="0" max="365" placeholder="ì¼ìˆ˜ ì…ë ¥"> ì¼</div>`;
                        }
                        html += `</div></div>`;
                    });
                });
            });
            container.innerHTML = html;

            container.addEventListener('change', function (e) {
                if (e.target.tagName === 'INPUT') {
                    const block = e.target.closest('.question-block');
                    if (block && block.dataset.bg) {
                        block.style.backgroundColor = block.dataset.bg;
                        block.style.borderColor = block.dataset.border;
                    }
                }
            });
        }

        // ì œì¶œ ë° ë¶„ì„ íŠ¸ë¦¬ê±°
        function checkCompletion() {
            const allBlocks = document.querySelectorAll('.question-block');
            let unansCount = 0;
            allBlocks.forEach(block => {
                if (!block.style.backgroundColor) { unansCount++; block.style.border = "2px solid red"; }
                else { block.style.border = `1px solid ${block.dataset.border}`; }
            });

            if (unansCount > 0) {
                alert(`ë‹µë³€í•˜ì§€ ì•Šì€ ë¬¸í•­ì´ ${unansCount}ê°œ ìˆìŠµë‹ˆë‹¤. ë¹¨ê°„ í…Œë‘ë¦¬ë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”!`);
            } else {
                generateReport();
            }
        }

        // [ë¡œì§] ë³´ê³ ì„œ ì‚°ì¶œ (ë²¨ê¸°ì— -> WI -> 12ë¬¸í•­ ìœ„í—˜ì ìˆ˜ -> ìš”ì•½ ìˆœì„œ)
        function generateReport() {
            const submitBtn = document.querySelector('.submit-btn');
            if (submitBtn) submitBtn.style.display = 'none';

            const getV = (id) => {
                const el = document.querySelector(`input[name="${id}"]:checked`);
                if (el) return parseInt(el.value);
                const numEl = document.querySelector(`input[name="${id}"][type="number"]`);
                return numEl && numEl.value ? parseInt(numEl.value) : 1;
            };

            // --- [STEP 1 & 2: WI ì‚°ì¶œ (ê¸°ì¡´ 100ì  ë§Œì  ê³µì‹)] ---
            const resList = ['M1_q4','M1_q5','M1_q7','M1_q8','M1_q9','M1_q10','M1_q11','M1_q12','M1_q13', 'M3_q3','M3_q4','M3_q5','M3_q6','M3_q7','M3_q8','M3_q9','M3_q10','M3_q11','M3_q12','M3_q13', 'M5_q1','M5_q2','M5_q3','M5_q4','M5_q5','M5_q6'];
            const resources = resList.reduce((acc, id) => acc + getV(id), 0);

            const demList = ['M1_q1','M1_q2','M1_q3','M1_q14','M1_q15','M1_q16', 'M2_q1','M2_q2','M2_q3','M2_q4','M2_q5','M2_q6','M2_q7','M2_q8','M2_q9'];
            const demands = demList.reduce((acc, id) => acc + getV(id), 0);

            const healthList = ['M4_q1','M4_q2','M4_q3','M4_q4','M4_q5','M4_q6','M4_q7','M4_q8','M4_q9','M4_q10','M4_q11','M4_q12','M4_q13','M4_q14','M4_q15'];
            const healthRisk = healthList.reduce((acc, id) => acc + getV(id), 0);

            const turnList = ['M6_q1','M6_q2','M6_q3','M6_q4','M6_q5','M6_q6','M6_q7'];
            const turnSum = turnList.reduce((acc, id) => acc + getV(id), 0);
            const turnoverRisk = (35 - turnSum) + 7; 

            const normR = ((resources - 26) / (121 - 26)) * 100;
            const normD = ((demands - 15) / (60 - 15)) * 100;
            const normH = ((healthRisk - 15) / (45 - 15)) * 100;
            const normT = ((turnoverRisk - 7) / (35 - 7)) * 100;

            let wi_score = (normR + (100 - normD) + (100 - normH) + (100 - normT)) / 4;
            wi_score = parseFloat(wi_score.toFixed(1));

            // --- [STEP 3: 12ê°œ ë¯¸ì‚¬ìš© í•µì‹¬ ë¬¸í•­ ê°€ì¤‘ì¹˜ ì±„ì ] ---
            let flagScore = 0;
            const redFlags = [];

            if (getV('M3_q2') === 2) { flagScore += 2; redFlags.push("ğŸš© ì‚¬ê³  ê²½í—˜"); }
            if (getV('M4_q17') >= 4) { flagScore += 2; redFlags.push("ğŸš© ì¦ì€ ê²°ê·¼"); }
            if (getV('M4_q18') >= 5) { flagScore += 2; redFlags.push("ğŸš© ì¥ê¸° ê²°ê·¼(5ì¼ ì´ìƒ)"); }
            if (getV('M4_q19') >= 4) { flagScore += 2; redFlags.push("ğŸš© ì‹¬ê°í•œ í”„ë¦¬ì  í‹°ì¦˜"); }

            if (getV('M4_q16') <= 2) { flagScore += 1; redFlags.push("ğŸš© ì£¼ê´€ì  ê±´ê°• ì•…í™”"); }
            if (getV('M5_q7') <= 2) { flagScore += 1; redFlags.push("ğŸš© ì‘ì—… ì†ë„ ì €í•˜"); }
            if (getV('M5_q8') <= 2) { flagScore += 1; redFlags.push("ğŸš© ì„±ì·¨ ì•¼ë§ ì €í•˜"); }
            if (getV('M5_q9') <= 2) { flagScore += 1; redFlags.push("ğŸš© ì¶œê·¼ ë™ê¸° ì €í•˜"); }
            if (getV('M5_q10') <= 2) { flagScore += 1; redFlags.push("ğŸš© ê°ë‹¹ ì—…ë¬´ëŸ‰ ê°ì†Œ"); }
            if (getV('M5_q11') <= 2) { flagScore += 1; redFlags.push("ğŸš© ëŒ€ì²˜ ëŠ¥ë ¥ ê°ì†Œ"); }
            if (getV('M5_q12') <= 2) { flagScore += 1; redFlags.push("ğŸš© 5ë…„ê°„ ê±´ê°• ì•…í™”"); }
            if (getV('M5_q13') <= 2) { flagScore += 1; redFlags.push("ğŸš© 5ë…„ê°„ ì—ë„ˆì§€ ê°ì†Œ"); }

            let riskLevelText = "";
            let riskBadgeStyle = "";
            
            if (flagScore === 0) {
                riskLevelText = "âœ… ì–‘í˜¸ (ìœ„í—˜ ì§•í›„ ì—†ìŒ)";
                riskBadgeStyle = "background-color: #d5f5e3; color: #27ae60; border: 2px solid #27ae60;";
            } else if (flagScore <= 3) {
                riskLevelText = `âš¡ ì£¼ì˜ (ìœ„í—˜ ì§€ìˆ˜: ${flagScore}ì )`;
                riskBadgeStyle = "background-color: #fdebd0; color: #f39c12; border: 2px solid #f39c12;";
            } else if (flagScore <= 6) {
                riskLevelText = `ğŸš¨ ê²½ê³  (ìœ„í—˜ ì§€ìˆ˜: ${flagScore}ì )`;
                riskBadgeStyle = "background-color: #fad7a1; color: #d35400; border: 2px solid #e67e22;";
            } else {
                riskLevelText = `ğŸ†˜ ì‹¬ê° (ìœ„í—˜ ì§€ìˆ˜: ${flagScore}ì )`;
                riskBadgeStyle = "background-color: #fadbd8; color: #c0392b; border: 2px solid #e74c3c;";
            }

            let redFlagHtml = `<div style="margin-top:15px; text-align:center; line-height:2.2;">`;
            if (flagScore > 0) {
                redFlags.forEach(flag => {
                    redFlagHtml += `<span style="display:inline-block; background:#fff0f0; border:1px solid #ffcccc; color:#d35400; padding:6px 12px; border-radius:20px; margin:3px; font-weight:bold; font-size:0.85em; box-shadow:0 2px 4px rgba(0,0,0,0.05);">${flag}</span>`;
                });
            } else {
                redFlagHtml += `<span style="display:inline-block; background:#eafaf1; border:1px solid #a3e4d7; color:#1e8449; padding:8px 15px; border-radius:20px; margin:5px; font-weight:bold; font-size:0.9em;">ğŸ€ íŠ¹ì´ ì‚¬í•­ ì—†ìŒ</span>`;
            }
            redFlagHtml += `</div>`;

            // --- [STEP 4: ë²¨ê¸°ì— SERV 4ëŒ€ ë³‘ëª© ì§€í‘œ íŒì •] ---
            const isStressRisk = (getV('M1_q26') + getV('M1_q27') + getV('M1_q28') + getV('M1_q29')) >= 7;
            const isMotivationRisk = (getV('M1_q22') + getV('M1_q23') + getV('M1_q24')) <= 4;
            const isLearningRisk = (getV('M1_q4') + getV('M1_q5')) <= 4;
            const isWlbRisk = (getV('M1_q1') + getV('M1_q2') + getV('M1_q3')) >= 9;

            // --- [STEP 5: HTML ë³´ê³ ì„œ ì¡°ë¦½ (ì‚¬ìš©ì ìš”ì²­ ìˆœì„œ ë°˜ì˜)] ---
            let rep = ""; 

            // 1ìˆœìœ„: ë²¨ê¸°ì— ë³‘ëª© ê²½ê³ ì°½ (ì›ë³¸ ë¬¸êµ¬ ë³µêµ¬)
            if (isStressRisk || isMotivationRisk || isLearningRisk || isWlbRisk) {
                rep += `
                <div style="background:#fff3f3; border:2px solid #e74c3c; padding:15px; border-radius:10px; margin-bottom:20px; text-align:left;">
                    <strong style="color:#e74c3c; font-size:1.2em;">âš ï¸ ë¶€ì í•© ê²½ê³ !</strong>
                    <p style="font-size:0.85em; color:#555; margin: 8px 0 10px 0;">ì¢…í•© ì§€ìˆ˜ ë¶„ì„ ì „, ì•„ë˜ íŠ¹ì • ì‹¬ë¦¬ì‚¬íšŒì  ì§€í‘œì—ì„œ ì¦‰ê°ì ì¸ ê°œì„ ì´ í•„ìš”í•œ ë³‘ëª© í˜„ìƒì´ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                    <ul style="font-size:0.9em; padding-left:20px; color:#c0392b; line-height:1.6; margin-bottom:15px;">
                        ${isStressRisk ? "<li><strong>ì§ë¬´ ìŠ¤íŠ¸ë ˆìŠ¤:</strong> í‡´ê·¼ í›„ ì‹¬ë¦¬ì  íšŒë³µì´ ì–´ë ¤ìš´ ìƒíƒœì…ë‹ˆë‹¤.</li>" : ""}
                        ${isMotivationRisk ? "<li><strong>ì§ë¬´ ë™ê¸° ê²°í•:</strong> ì—…ë¬´ì˜ ì¦ê±°ì›€ê³¼ ì˜ìš•ì´ ë‚®ì€ ìƒíƒœì…ë‹ˆë‹¤.</li>" : ""}
                        ${isLearningRisk ? "<li><strong>í•™ìŠµ ê¸°íšŒ ë¶€ì¡±:</strong> ì§ë¬´ë¥¼ í†µí•œ ì„±ì¥ ê¸°íšŒê°€ ë¶€ì¡±í•œ ìƒíƒœì…ë‹ˆë‹¤.</li>" : ""}
                        ${isWlbRisk ? "<li><strong>ì¼-ê°€ì • ì–‘ë¦½ ìœ„í—˜:</strong> ì‹œê°„ ì••ë°•ìœ¼ë¡œ ì‚¶ì˜ ê· í˜•ì´ ìœ„í—˜í•œ ìƒíƒœì…ë‹ˆë‹¤.</li>" : ""}
                    </ul>
                    <div style="text-align:right; font-size:0.8em; color:#888; border-top: 1px dashed #e74c3c; padding-top: 8px;">â€» ë²¨ê¸°ì— SERV ì—°êµ¬ë³´ê³ ì„œ ê¸°ì¤€</div>
                </div>`;
            } else {
                rep += `
                <div style="background:#eafaf1; border:2px solid #27ae60; padding:15px; border-radius:10px; margin-bottom:20px; text-align:left;">
                    <strong style="color:#27ae60; font-size:1.2em;">âœ… ì í•©, ë¬´ì‚¬í†µê³¼!</strong>
                    <p style="font-size:0.9em; color:#333; margin: 8px 0 15px 0;">ì§ë¬´ ìŠ¤íŠ¸ë ˆìŠ¤, ë™ê¸°, í•™ìŠµ ê¸°íšŒ, ì¼-ê°€ì • ì–‘ë¦½ ë“± ì‹¬ë¦¬ì‚¬íšŒì  í•µì‹¬ 4ëŒ€ ì§€í‘œì—ì„œ ëª¨ë‘ ì•ˆì „í•œ ìˆ˜ì¤€ì„ ìœ ì§€í•˜ê³  ìˆìŠµë‹ˆë‹¤. í›Œë¥­í•œ ì‘ì—… í™˜ê²½ì…ë‹ˆë‹¤!</p>
                    <div style="text-align:right; font-size:0.8em; color:#888; border-top: 1px dashed #27ae60; padding-top: 8px;">â€» ë²¨ê¸°ì— SERV ì—°êµ¬ë³´ê³ ì„œ ê¸°ì¤€</div>
                </div>`;
            }

            // 2ìˆœìœ„: ëª¨ë“ˆë³„ ìš”ì•½ ë°ì´í„° ë° ê³µì‹
            rep += `<div class="report-card">
                <h3>ğŸ“ˆ ëª¨ë“ˆë³„ ìš”ì•½ ë°ì´í„°</h3>
                <ul style="line-height: 1.8;">
                    <li><strong>ë³´ìœ  ìì›(Resources):</strong> ${resources}ì  <span style="font-size:0.8em; color:#7f8c8d;">(100ì  í™˜ì‚°: ${normR.toFixed(1)}ì )</span></li>
                    <li><strong>ì—…ë¬´ ìš”êµ¬(Demands):</strong> ${demands}ì  <span style="font-size:0.8em; color:#7f8c8d;">(100ì  í™˜ì‚°: ${normD.toFixed(1)}ì )</span></li>
                    <li><strong>ê±´ê°• ìœ„í—˜ë„(Health Risk):</strong> ${healthRisk}ì  <span style="font-size:0.8em; color:#7f8c8d;">(100ì  í™˜ì‚°: ${normH.toFixed(1)}ì )</span></li>
                    <li><strong>í‡´ì‚¬ ìœ„í—˜ë„(Turnover Risk):</strong> ${turnoverRisk}ì  <span style="font-size:0.8em; color:#7f8c8d;">(100ì  í™˜ì‚°: ${normT.toFixed(1)}ì )</span></li>
                </ul>
            </div>`;
            
            rep += `<div class="formula-box" style="font-size:0.95em;">
                [100ì  í™˜ì‚° WI ì‚°ì¶œ ê³µì‹]<br>
                { ìì› + (100 - ìš”êµ¬) + (100 - ê±´ê°•) + (100 - í‡´ì‚¬) } / 4
            </div>`;

            // 3ìˆœìœ„ & 4ìˆœìœ„: WI ì ìˆ˜ ë° 12ë¬¸í•­ ìœ„í—˜ì ìˆ˜(ì‹¬ê°ì§€ìˆ˜)
            rep += `<div class="report-card" style="text-align:center; padding-bottom:30px;">
                <h3 style="color:#555; margin-bottom: 5px;">ìµœì¢… ì—…ë¬´ ì í•©ì„± ì§€ìˆ˜ (WI)</h3>
                <h1 style="color:#2c3e50; font-size:3.8em; margin:10px 0;">${wi_score}<span style="font-size:0.3em; color:#999;"> / 100</span></h1>
                
                <h4 style="margin-top:25px; margin-bottom:15px; color:#555; border-top: 1px dashed #ccc; padding-top: 20px;">ğŸš¨ 12ëŒ€ í•µì‹¬ íƒ€ê²© ì§€í‘œ (ìœ„í—˜ ì ìˆ˜)</h4>
                
                <div style="display:inline-block; padding: 10px 20px; border-radius: 30px; font-size: 1.1em; font-weight: bold; margin-bottom: 10px; ${riskBadgeStyle}">
                    ${riskLevelText}
                </div>
                
                ${redFlagHtml}
            </div>`;            

            // --- [STEP 6: í™”ë©´ ì¶œë ¥ ë° ìŠ¤í¬ë¡¤] ---
            const reportArea = document.getElementById('reportArea');
            document.getElementById('reportContent').innerHTML = rep;
            reportArea.style.display = 'block';
            
            reportArea.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        window.onload = renderSurvey;

        // ==========================================
        // --- [í…ŒìŠ¤íŠ¸ìš© ì½”ë“œ ì‹œì‘: ì•± ì¶œì‹œ ì‹œ ì‚­ì œ!] ---
        // ==========================================
        function randomFill() {
            const radioGroups = {};
            document.querySelectorAll('input[type="radio"]').forEach(input => {
                if (!radioGroups[input.name]) radioGroups[input.name] = [];
                radioGroups[input.name].push(input);
            });

            for (let name in radioGroups) {
                const radios = radioGroups[name];
                const randomIndex = Math.floor(Math.random() * radios.length);
                radios[randomIndex].checked = true;
                // ê°•ì œë¡œ change ì´ë²¤íŠ¸ ë°œìƒì‹œì¼œ ë°°ê²½ìƒ‰ ì±„ìš°ê¸° íŠ¸ë¦¬ê±°
                radios[randomIndex].dispatchEvent(new Event('change', { bubbles: true }));
            }

            document.querySelectorAll('input[type="number"]').forEach(input => {
                input.value = Math.floor(Math.random() * 10); // 0~9ì¼ ë¬´ì‘ìœ„ ì…ë ¥
                input.dispatchEvent(new Event('change', { bubbles: true }));
            });

            alert('í…ŒìŠ¤íŠ¸ ì™„ë£Œ! ëª¨ë“  ë¬¸í•­ì— ë¬´ì‘ìœ„ ë‹µë³€ì´ ì±„ì›Œì¡ŒìŠµë‹ˆë‹¤.\nìŠ¤í¬ë¡¤ì„ ë‚´ë ¤ [ì„¤ë¬¸ ì œì¶œ] ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”.');
        }
        // ==========================================
        // --- [í…ŒìŠ¤íŠ¸ìš© ì½”ë“œ ë] ---
        // ==========================================
    </script>

</body>

</html>
